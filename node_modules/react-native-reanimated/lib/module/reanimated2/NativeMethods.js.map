{"version":3,"names":["findNodeHandle","shouldBeUseWeb","getTag","view","isNativeIndefined","measure","animatedRef","_WORKLET","console","warn","x","NaN","y","width","height","pageX","pageY","viewTag","result","_measure","Error","isNaN","dispatchCommand","commandName","args","shadowNodeWrapper","_dispatchCommand","scrollTo","global","_IS_FABRIC","animated","_scrollTo","setGestureState","handlerTag","newState","_setGestureState"],"sources":["NativeMethods.ts"],"sourcesContent":["/* global _WORKLET _measure _scrollTo _dispatchCommand _setGestureState */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport { Component } from 'react';\nimport { findNodeHandle } from 'react-native';\nimport { RefObjectFunction } from './commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\n\nexport function getTag(\n  view: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number {\n  return findNodeHandle(view);\n}\n\nexport interface MeasuredDimensions {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  pageX: number;\n  pageY: number;\n}\n\nconst isNativeIndefined = shouldBeUseWeb();\n\nexport function measure(\n  animatedRef: RefObjectFunction<Component>\n): MeasuredDimensions {\n  'worklet';\n  if (!_WORKLET || isNativeIndefined) {\n    console.warn(\n      '[reanimated.measure] method cannot be used for web or Chrome Debugger'\n    );\n    return {\n      x: NaN,\n      y: NaN,\n      width: NaN,\n      height: NaN,\n      pageX: NaN,\n      pageY: NaN,\n    };\n  }\n  const viewTag = animatedRef();\n  const result = _measure(viewTag);\n  if (result.x === -1234567) {\n    throw new Error(`The view with tag ${viewTag} could not be measured`);\n  }\n  if (isNaN(result.x)) {\n    console.warn(\n      'Trying to measure a component which gets view-flattened on Android. To disable view-flattening, set `collapsable={false}` on this component.'\n    );\n  }\n  return result;\n}\n\nexport function dispatchCommand(\n  animatedRef: RefObjectFunction<Component>,\n  commandName: string,\n  args: Array<unknown>\n): void {\n  'worklet';\n  if (!_WORKLET || isNativeIndefined) {\n    return;\n  }\n  const shadowNodeWrapper = animatedRef();\n  _dispatchCommand(shadowNodeWrapper, commandName, args);\n}\n\nexport let scrollTo: (\n  animatedRef: RefObjectFunction<Component>,\n  x: number,\n  y: number,\n  animated: boolean\n) => void;\n\nif (global._IS_FABRIC) {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    dispatchCommand(animatedRef, 'scrollTo', [x, y, animated]);\n  };\n} else {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    if (!_WORKLET || isNativeIndefined) {\n      return;\n    }\n    const viewTag = animatedRef();\n    _scrollTo(viewTag, x, y, animated);\n  };\n}\n\nexport function setGestureState(handlerTag: number, newState: number): void {\n  'worklet';\n  if (!_WORKLET || isNativeIndefined) {\n    console.warn(\n      '[Reanimated] You can not use setGestureState in non-worklet function.'\n    );\n    return;\n  }\n  _setGestureState(handlerTag, newState);\n}\n"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,cAAT,QAA+B,cAA/B;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,OAAO,SAASC,MAAT,CACLC,IADK,EAEU;EACf,OAAOH,cAAc,CAACG,IAAD,CAArB;AACD;AAWD,MAAMC,iBAAiB,GAAGH,cAAc,EAAxC;AAEA,OAAO,SAASI,OAAT,CACLC,WADK,EAEe;EACpB;;EACA,IAAI,CAACC,QAAD,IAAaH,iBAAjB,EAAoC;IAClCI,OAAO,CAACC,IAAR,CACE,uEADF;IAGA,OAAO;MACLC,CAAC,EAAEC,GADE;MAELC,CAAC,EAAED,GAFE;MAGLE,KAAK,EAAEF,GAHF;MAILG,MAAM,EAAEH,GAJH;MAKLI,KAAK,EAAEJ,GALF;MAMLK,KAAK,EAAEL;IANF,CAAP;EAQD;;EACD,MAAMM,OAAO,GAAGX,WAAW,EAA3B;;EACA,MAAMY,MAAM,GAAGC,QAAQ,CAACF,OAAD,CAAvB;;EACA,IAAIC,MAAM,CAACR,CAAP,KAAa,CAAC,OAAlB,EAA2B;IACzB,MAAM,IAAIU,KAAJ,CAAW,qBAAoBH,OAAQ,wBAAvC,CAAN;EACD;;EACD,IAAII,KAAK,CAACH,MAAM,CAACR,CAAR,CAAT,EAAqB;IACnBF,OAAO,CAACC,IAAR,CACE,8IADF;EAGD;;EACD,OAAOS,MAAP;AACD;AAED,OAAO,SAASI,eAAT,CACLhB,WADK,EAELiB,WAFK,EAGLC,IAHK,EAIC;EACN;;EACA,IAAI,CAACjB,QAAD,IAAaH,iBAAjB,EAAoC;IAClC;EACD;;EACD,MAAMqB,iBAAiB,GAAGnB,WAAW,EAArC;;EACAoB,gBAAgB,CAACD,iBAAD,EAAoBF,WAApB,EAAiCC,IAAjC,CAAhB;AACD;AAED,OAAO,IAAIG,QAAJ;;AAOP,IAAIC,MAAM,CAACC,UAAX,EAAuB;EACrBF,QAAQ,GAAG,CACTrB,WADS,EAETI,CAFS,EAGTE,CAHS,EAITkB,QAJS,KAKN;IACH;;IACAR,eAAe,CAAChB,WAAD,EAAc,UAAd,EAA0B,CAACI,CAAD,EAAIE,CAAJ,EAAOkB,QAAP,CAA1B,CAAf;EACD,CARD;AASD,CAVD,MAUO;EACLH,QAAQ,GAAG,CACTrB,WADS,EAETI,CAFS,EAGTE,CAHS,EAITkB,QAJS,KAKN;IACH;;IACA,IAAI,CAACvB,QAAD,IAAaH,iBAAjB,EAAoC;MAClC;IACD;;IACD,MAAMa,OAAO,GAAGX,WAAW,EAA3B;;IACAyB,SAAS,CAACd,OAAD,EAAUP,CAAV,EAAaE,CAAb,EAAgBkB,QAAhB,CAAT;EACD,CAZD;AAaD;;AAED,OAAO,SAASE,eAAT,CAAyBC,UAAzB,EAA6CC,QAA7C,EAAqE;EAC1E;;EACA,IAAI,CAAC3B,QAAD,IAAaH,iBAAjB,EAAoC;IAClCI,OAAO,CAACC,IAAR,CACE,uEADF;IAGA;EACD;;EACD0B,gBAAgB,CAACF,UAAD,EAAaC,QAAb,CAAhB;AACD"}