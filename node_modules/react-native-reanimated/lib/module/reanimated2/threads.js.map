{"version":3,"names":["NativeReanimatedModule","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","runOnUI","worklet","__DEV__","__workletHash","undefined","Error","args","scheduleOnUI","runOnJS","fun","__remoteFunction","_WORKLET","_scheduleOnJS","length"],"sources":["threads.ts"],"sourcesContent":["import NativeReanimatedModule from './NativeReanimated';\nimport { ComplexWorkletFunction } from './commonTypes';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nexport function runOnUI<A extends any[], R>(\n  worklet: ComplexWorkletFunction<A, R>\n): (...args: A) => void {\n  if (__DEV__) {\n    if (worklet.__workletHash === undefined) {\n      throw new Error('runOnUI() can only be used on worklets');\n    }\n  }\n  return (...args) => {\n    NativeReanimatedModule.scheduleOnUI(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        return worklet(...args);\n      })\n    );\n  };\n}\n\nexport function runOnJS<A extends any[], R>(\n  fun: ComplexWorkletFunction<A, R>\n): (...args: A) => void {\n  'worklet';\n  if (fun.__remoteFunction) {\n    // in development mode the function provided as `fun` throws an error message\n    // such that when someone accidently calls it directly on the UI runtime, they\n    // see that they should use `runOnJS` instead. To facilitate that we purt the\n    // reference to the original remote function in the `__remoteFunction` property.\n    fun = fun.__remoteFunction;\n  }\n  if (!_WORKLET) {\n    return fun;\n  }\n  return (...args) => {\n    _scheduleOnJS(\n      fun,\n      args.length > 0 ? makeShareableCloneOnUIRecursive(args) : undefined\n    );\n  };\n}\n"],"mappings":"AAAA,OAAOA,sBAAP,MAAmC,oBAAnC;AAEA,SACEC,+BADF,EAEEC,2BAFF,QAGO,cAHP;AAKA,OAAO,SAASC,OAAT,CACLC,OADK,EAEiB;EACtB,IAAIC,OAAJ,EAAa;IACX,IAAID,OAAO,CAACE,aAAR,KAA0BC,SAA9B,EAAyC;MACvC,MAAM,IAAIC,KAAJ,CAAU,wCAAV,CAAN;IACD;EACF;;EACD,OAAO,YAAa;IAAA,kCAATC,IAAS;MAATA,IAAS;IAAA;;IAClBT,sBAAsB,CAACU,YAAvB,CACER,2BAA2B,CAAC,MAAM;MAChC;;MACA,OAAOE,OAAO,CAAC,GAAGK,IAAJ,CAAd;IACD,CAH0B,CAD7B;EAMD,CAPD;AAQD;AAED,OAAO,SAASE,OAAT,CACLC,GADK,EAEiB;EACtB;;EACA,IAAIA,GAAG,CAACC,gBAAR,EAA0B;IACxB;IACA;IACA;IACA;IACAD,GAAG,GAAGA,GAAG,CAACC,gBAAV;EACD;;EACD,IAAI,CAACC,QAAL,EAAe;IACb,OAAOF,GAAP;EACD;;EACD,OAAO,YAAa;IAAA,mCAATH,IAAS;MAATA,IAAS;IAAA;;IAClBM,aAAa,CACXH,GADW,EAEXH,IAAI,CAACO,MAAL,GAAc,CAAd,GAAkBf,+BAA+B,CAACQ,IAAD,CAAjD,GAA0DF,SAF/C,CAAb;EAID,CALD;AAMD"}